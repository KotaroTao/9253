# =============================================================
# MIERU Clinic 本番環境設定（Cloud Run）
# Cloud Run の環境変数として設定（GitHub Secrets経由）
# ローカル開発時は .env にコピーして値を設定
# =============================================================

# Database
# Cloud Run: Unix Socket形式 postgresql://USER:PASS@localhost:5432/DB?host=/cloudsql/CONNECTION_NAME
# ローカル: postgresql://mieru:CHANGE_THIS_PASSWORD@localhost:5432/mieru_clinic?schema=public
DATABASE_URL="postgresql://mieru:CHANGE_THIS_PASSWORD@localhost:5432/mieru_clinic?schema=public"

# Auth.js
# 生成コマンド: openssl rand -base64 32
AUTH_SECRET="ここにランダムな文字列を設定"
AUTH_URL="https://mieru-clinic.com"

# App
NEXT_PUBLIC_APP_URL="https://mieru-clinic.com"

# Rate Limiting
RATE_LIMIT_WINDOW_MS="86400000"
RATE_LIMIT_MAX_REQUESTS="3"

# Node
NODE_ENV="production"
PORT="3000"

# Cloud Run マイグレーション制御
# true: コンテナ起動時に prisma db push を実行
# false: マイグレーションをスキップ（手動実行時に使用）
RUN_MIGRATIONS="true"
