export type PatientTip = {
  category: string
  title: string
  content: string
}

/** 患者満足度を高めるワンポイントアドバイス（30件） */
export const patientTips: PatientTip[] = [
  {
    category: "接遇",
    title: "名前で呼びかける",
    content:
      "「次の方どうぞ」ではなく「○○さん、お待たせしました」と名前で呼ぶだけで、患者の安心感と信頼感が大きく向上します。",
  },
  {
    category: "コミュニケーション",
    title: "治療前の「今日やること」宣言",
    content:
      "チェアに座った直後、「今日は○○をしますね、約○分です」と伝えるだけで、患者の不安が軽減し満足度が上がります。",
  },
  {
    category: "不安軽減",
    title: "痛みの事前告知",
    content:
      "「少しチクッとしますよ」と事前に伝えるだけで、同じ痛みでも患者が感じるストレスは大幅に下がります。予告なしの痛みが最も不満につながります。",
  },
  {
    category: "院内環境",
    title: "待合室の温度チェック",
    content:
      "季節の変わり目は特に、待合室の温度を朝・昼に確認しましょう。寒すぎ・暑すぎは滞在中ずっと続く不快感となり、全体の印象を下げます。",
  },
  {
    category: "待ち時間",
    title: "遅延時は「あと何分」を伝える",
    content:
      "待ち時間が発生した際、「あと10分ほどお待ちください」と具体的な目安を伝えるだけで、患者のストレスは大幅に緩和されます。",
  },
  {
    category: "チーム連携",
    title: "申し送りの徹底",
    content:
      "「前回の治療内容を別のスタッフにまた説明させられた」は不満の定番です。カルテのメモ欄を活用し、誰が対応しても把握できる状態を作りましょう。",
  },
  {
    category: "初診対応",
    title: "初診時の院内ツアー",
    content:
      "初めて来院した患者に、お手洗いの場所やアンケートの流れを30秒で案内するだけで「丁寧な医院」という第一印象を作れます。",
  },
  {
    category: "治療説明",
    title: "鏡やカメラで「見せる」説明",
    content:
      "口腔内写真や手鏡で患部を見せながら説明すると、患者の理解度と納得感が格段に上がります。「見える化」は信頼構築の最短ルートです。",
  },
  {
    category: "接遇",
    title: "お見送りの一言",
    content:
      "治療後、受付で「お大事になさってください」に加えて「次回は○日ですね」と確認の声かけをすると、患者は大切にされていると感じます。",
  },
  {
    category: "不安軽減",
    title: "手を挙げたら止める約束",
    content:
      "治療前に「辛い時は左手を挙げてくださいね、すぐ止めます」と伝えましょう。実際に手を挙げなくても、コントロール感があるだけで不安は和らぎます。",
  },
  {
    category: "コミュニケーション",
    title: "専門用語を言い換える",
    content:
      "「抜髄」→「神経の治療」、「印象」→「型取り」など、患者が理解できる言葉に置き換えるだけで、説明の満足度は大きく変わります。",
  },
  {
    category: "院内環境",
    title: "BGMの音量を意識する",
    content:
      "待合室のBGMは「会話の邪魔にならない程度」が適切です。無音は緊張感を高め、大きすぎる音は不快感につながります。定期的に待合室で確認しましょう。",
  },
  {
    category: "フォローアップ",
    title: "抜歯後の翌日電話",
    content:
      "抜歯や外科処置の翌日に「その後いかがですか？」と一本電話を入れるだけで、患者の信頼度は飛躍的に高まります。数分の手間が口コミにもつながります。",
  },
  {
    category: "予防指導",
    title: "「褒める」ブラッシング指導",
    content:
      "磨き残しの指摘だけでなく、「ここはよく磨けていますね」と褒めるポイントを先に伝えましょう。患者のモチベーションが上がり、継続来院につながります。",
  },
  {
    category: "待ち時間",
    title: "待ち時間の有効活用",
    content:
      "待合室にデジタルサイネージや掲示物で季節の口腔ケア情報を掲示すると、待ち時間が「学びの時間」に変わり、体感待ち時間が短くなります。",
  },
  {
    category: "治療説明",
    title: "選択肢を提示する",
    content:
      "「この治療法しかありません」ではなく、複数の選択肢とそれぞれのメリット・デメリットを説明しましょう。患者が自分で選べることが満足度を高めます。",
  },
  {
    category: "接遇",
    title: "目線を合わせて話す",
    content:
      "チェアに座った患者に立ったまま話すと威圧感を与えます。しゃがむか座って目線を合わせるだけで、患者は「対等に扱われている」と感じます。",
  },
  {
    category: "小児対応",
    title: "子どもには器具を見せてから",
    content:
      "小児患者には「Tell-Show-Do」法が有効です。まず説明し、器具を見せ、触らせてから使う。この手順で恐怖心が大幅に軽減され、保護者の満足度も上がります。",
  },
  {
    category: "チーム連携",
    title: "患者の前でスタッフを褒める",
    content:
      "「○○さん（衛生士）はクリーニングがとても丁寧ですよ」と患者の前でスタッフを紹介すると、チームの信頼感が患者に伝わり安心感を生みます。",
  },
  {
    category: "高齢者対応",
    title: "ゆっくり・はっきり・繰り返す",
    content:
      "高齢の患者への説明は、ゆっくり話す・口を大きく開けて話す・要点を繰り返す、の3点を意識しましょう。「聞こえなかった」が不満の大きな原因です。",
  },
  {
    category: "コミュニケーション",
    title: "治療中の声かけ",
    content:
      "治療中の沈黙は患者の不安を増幅させます。「順調ですよ」「あと少しです」など、30秒に1回程度の短い声かけが安心感を生みます。",
  },
  {
    category: "フォローアップ",
    title: "次回予約の理由を説明する",
    content:
      "「次は2週間後に来てください」だけでなく「今日詰めた仮の蓋を外して本番の詰め物を入れます」と理由を伝えると、キャンセル率が下がります。",
  },
  {
    category: "院内環境",
    title: "スリッパの清潔感",
    content:
      "スリッパの汚れや劣化は患者が最初に気づく衛生面のサインです。定期的な交換・消毒を徹底し、清潔感を保ちましょう。第一印象は足元から始まります。",
  },
  {
    category: "不安軽減",
    title: "治療後の「まとめ」を伝える",
    content:
      "治療後に「今日は○○をしました。次回は○○です。痛みが出たら○○してください」と3点で伝えると、患者の不安が解消され安心して帰宅できます。",
  },
  {
    category: "予防指導",
    title: "生活習慣に寄り添うアドバイス",
    content:
      "「甘いものを食べないで」より「食べた後に水を飲むだけでも違います」のように、実行可能なアドバイスの方が患者に響き、信頼関係が深まります。",
  },
  {
    category: "接遇",
    title: "受付の第一声を統一する",
    content:
      "来院時の第一声が「こんにちは、○○歯科です」と統一されているだけで、医院全体の印象が格段に良くなります。朝礼で確認する習慣をつけましょう。",
  },
  {
    category: "治療説明",
    title: "費用の説明はオープンに",
    content:
      "自費治療の費用は患者から聞かれる前に提示しましょう。「後から高額請求された」という不信感は、事前説明で完全に防げます。",
  },
  {
    category: "チーム連携",
    title: "担当衛生士制のメリット",
    content:
      "毎回同じ衛生士が担当すると、患者は「自分のことを覚えてくれている」と感じます。可能な範囲で担当制を導入すると、継続来院率が向上します。",
  },
  {
    category: "コミュニケーション",
    title: "前回の会話を覚えておく",
    content:
      "「お孫さんの運動会はいかがでしたか？」のように前回の雑談を覚えていると、患者は特別感を感じます。カルテにメモするだけで実践できます。",
  },
  {
    category: "待ち時間",
    title: "予約枠にバッファを持たせる",
    content:
      "急患対応用に1日2〜3枠のバッファを確保すると、予約患者の待ち時間が減ります。待ち時間の長さは満足度を下げる最大の要因の一つです。",
  },
]

/**
 * 日付ベースのシード値を使った疑似ランダムで、その日のTipを1つ返す。
 * 同じ日であれば同じTipが返り、日が変わると別のTipが表示される。
 */
export function getTodayTip(): PatientTip {
  const today = new Date()
  const seed =
    today.getFullYear() * 10000 +
    (today.getMonth() + 1) * 100 +
    today.getDate()
  const index = seed % patientTips.length
  return patientTips[index]
}

/**
 * 指定された切り替え間隔（分）に基づいて、現在のTipを1つ返す。
 * 同一interval内であれば同じTipが返り、interval経過後に次のTipが表示される。
 */
export function getCurrentTip(tips: PatientTip[], rotationMinutes: number): PatientTip {
  if (tips.length === 0) return getTodayTip()
  const intervalMs = Math.max(1, rotationMinutes) * 60 * 1000
  const index = Math.floor(Date.now() / intervalMs) % tips.length
  return tips[index]
}
